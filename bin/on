#!/usr/bin/env sh

# Encoding: utf-8
#
# @raycast.title Open Note
# @raycast.author Connor Rhodes
# @raycast.description open a note in $EDITOR
# @raycast.mode silent
#
# @raycast.schemaVersion 1

NOTES_DIR="$HOME/code/notes"

note_file=$(fd -t f -e md -e txt . "$NOTES_DIR" | \
    sed "s|^$NOTES_DIR/||" | fzf)

if [ -z "$note_file" ]; then
    echo "No file selected"
    exit 0
fi

full_path="$NOTES_DIR/$note_file"
code "$full_path"
